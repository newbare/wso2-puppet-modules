[main]
logdir=/var/log/puppet
vardir=/var/lib/puppet
ssldir=/var/lib/puppet/ssl
rundir=/var/run/puppet
factpath=$vardir/lib/facter
server = puppet
<%- ipaddress = @ipaddress -%>
<%- nodes = scope.function_hiera(['nodes']) -%>
<%- nodes.each do |node| -%>
<%- if node["ipaddress"] == ipaddress -%>
certname = <%= node["certname"] -%>
<%- end -%><%- end -%>

[master]
# These are needed when the puppetmaster is run by passenger
# and can safely be removed if webrick is used.
ssl_client_header = SSL_CLIENT_S_DN
ssl_client_verify_header = SSL_CLIENT_VERIFY
