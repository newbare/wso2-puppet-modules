---
upstreams:

# keymanager
    - 
      name: keymgrhttps
      hosts:
        host:
          - 192.168.57.227:9443
          - 192.168.57.225:9443
# store
    - 
      name: storehttp
      hosts:
        host:
          - 192.168.57.247:9763
          - 192.168.57.248:9763
    - 
      name: storehttps
      hosts:
        host:
          - 192.168.57.247:9443
          - 192.168.57.248:9443
# publisher
    - 
      name: publisherhttp
      hosts:
        host:
          - 192.168.57.248:9763
    - 
      name: publisherhttps
      hosts:
        host:
          - 192.168.57.248:9443

servers:

# keymanager
  - 
   port: 443
   name: keymanager.am.wso2.com
   sslstatus: "on"
   sslcertificate: /etc/nginx/ssl/keymanager.crt
   sslcertificatekey: /etc/nginx/ssl/keymanager.key
   locations:
     location:
        - 
         context: "/"
         proxypass: keymgrhttps
# publisher
  - 
   port: 443
   name: publisher.am.wso2.com
   sslstatus: "on"
   sslcertificate: /etc/nginx/ssl/publisher.crt
   sslcertificatekey: /etc/nginx/ssl/publisher.key
   locations:
     location:
        - 
         context: "/"
         proxypass: publisherhttps
  - 
   port: 80
   name: publisher.am.wso2.com
   locations:
    location:
        - 
         context: "/"
         proxypass: publisherhttp

# store
  - 
   port: 443
   name: store.am.wso2.com
   sslstatus: "on"
   sslcertificate: /etc/nginx/ssl/gateway.crt
   sslcertificatekey: /etc/nginx/ssl/gateway.key
   locations:
     location:
        - 
         context: "/"
         proxypass: storehttps
  - 
   port: 80
   name: store.am.wso2.com
   locations:
    location:
        - 
         context: "/"
         proxypass: storehttp
